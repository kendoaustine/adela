# Production Environment Configuration Template
# Copy this file to .env.production and fill in the actual values
# NEVER commit this file with real secrets!

# Environment
NODE_ENV=production

# Database Configuration - Use strong passwords!
DATABASE_URL=postgresql://gasconnect_prod:CHANGE_THIS_STRONG_PASSWORD@your-db-host:5432/gasconnect_prod
POSTGRES_DB=gasconnect_prod
POSTGRES_USER=gasconnect_prod
POSTGRES_PASSWORD=CHANGE_THIS_STRONG_PASSWORD

# Redis Configuration - Use authentication!
REDIS_URL=redis://:CHANGE_THIS_REDIS_PASSWORD@your-redis-host:6379
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD

# RabbitMQ Configuration - Use strong credentials!
RABBITMQ_URL=amqp://gasconnect_prod:CHANGE_THIS_RABBITMQ_PASSWORD@your-rabbitmq-host:5672
RABBITMQ_DEFAULT_USER=gasconnect_prod
RABBITMQ_DEFAULT_PASS=CHANGE_THIS_RABBITMQ_PASSWORD

# JWT Configuration - CRITICAL: Generate strong secrets!
# Use: openssl rand -base64 64
JWT_SECRET=CHANGE_THIS_TO_A_STRONG_64_CHARACTER_SECRET_GENERATED_WITH_OPENSSL
JWT_REFRESH_SECRET=CHANGE_THIS_TO_ANOTHER_STRONG_64_CHARACTER_SECRET_GENERATED_WITH_OPENSSL
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=gasconnect-auth
JWT_AUDIENCE=gasconnect-users

# Service URLs - Use HTTPS in production!
AUTH_SERVICE_URL=https://auth.yourdomain.com
ORDERS_SERVICE_URL=https://orders.yourdomain.com
SUPPLIER_SERVICE_URL=https://supplier.yourdomain.com
FRONTEND_URL=https://yourdomain.com

# API Gateway
NGINX_PORT=80
NGINX_SSL_PORT=443

# Monitoring
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

# File Upload Configuration
MAX_FILE_SIZE=10MB
UPLOAD_PATH=/var/uploads
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx

# Email Configuration - Use app passwords for Gmail
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-production-email@yourdomain.com
SMTP_PASS=YOUR_APP_PASSWORD_OR_SMTP_PASSWORD
FROM_EMAIL=noreply@yourdomain.com

# SMS Configuration - Use production Twilio account
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=YOUR_PRODUCTION_TWILIO_ACCOUNT_SID
TWILIO_AUTH_TOKEN=YOUR_PRODUCTION_TWILIO_AUTH_TOKEN
TWILIO_PHONE_NUMBER=+1234567890

# Payment Configuration - Use live Paystack keys
PAYSTACK_SECRET_KEY=sk_live_YOUR_LIVE_PAYSTACK_SECRET_KEY
PAYSTACK_PUBLIC_KEY=pk_live_YOUR_LIVE_PAYSTACK_PUBLIC_KEY
PAYSTACK_WEBHOOK_SECRET=YOUR_PAYSTACK_WEBHOOK_SECRET
PAYMENT_CURRENCY=NGN

# Security Configuration - CRITICAL for production!
BCRYPT_ROUNDS=14
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
CORS_ORIGIN=https://yourdomain.com,https://admin.yourdomain.com
SESSION_SECRET=CHANGE_THIS_TO_A_STRONG_64_CHARACTER_SECRET_GENERATED_WITH_OPENSSL
ENCRYPTION_KEY=CHANGE_THIS_TO_A_STRONG_64_CHARACTER_SECRET_GENERATED_WITH_OPENSSL
API_KEY_SECRET=CHANGE_THIS_TO_A_STRONG_64_CHARACTER_SECRET_GENERATED_WITH_OPENSSL

# Security Features - Enable all in production
ENABLE_2FA=true
ENABLE_RATE_LIMITING=true
ENABLE_AUDIT_LOGGING=true
ENABLE_IP_WHITELIST=false
TRUSTED_PROXIES=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# Optional: IP Whitelist (comma-separated)
# IP_WHITELIST=203.0.113.1,203.0.113.2

# Logging Configuration
LOG_LEVEL=warn
LOG_FORMAT=json

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/ssl/certs/yourdomain.com.crt
SSL_KEY_PATH=/etc/ssl/private/yourdomain.com.key
SSL_CA_PATH=/etc/ssl/certs/ca-certificates.crt

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY

# Monitoring and Alerting
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
NEW_RELIC_LICENSE_KEY=YOUR_NEW_RELIC_LICENSE_KEY
DATADOG_API_KEY=YOUR_DATADOG_API_KEY

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Performance Configuration
CLUSTER_WORKERS=auto
MAX_MEMORY_USAGE=512MB
GC_INTERVAL=300000

# Feature Flags
FEATURE_EMERGENCY_SOS=true
FEATURE_RECURRING_ORDERS=true
FEATURE_BULK_ORDERS=true
FEATURE_ANALYTICS=true
FEATURE_NOTIFICATIONS=true

# External Service Configuration
GOOGLE_MAPS_API_KEY=YOUR_GOOGLE_MAPS_API_KEY
FIREBASE_PROJECT_ID=your-firebase-project
FIREBASE_PRIVATE_KEY=YOUR_FIREBASE_PRIVATE_KEY
FIREBASE_CLIENT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com

# CDN Configuration
CDN_URL=https://cdn.yourdomain.com
CDN_API_KEY=YOUR_CDN_API_KEY

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=100MB
CACHE_STRATEGY=lru

# Database Connection Pool
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_ACQUIRE_TIMEOUT=60000

# Rate Limiting Configuration
RATE_LIMIT_REDIS_URL=redis://:CHANGE_THIS_REDIS_PASSWORD@your-redis-host:6379/1
RATE_LIMIT_SKIP_FAILED_REQUESTS=true
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Session Configuration
SESSION_STORE=redis
SESSION_TTL=86400
SESSION_SECURE=true
SESSION_SAME_SITE=strict

# GDPR Compliance
DATA_RETENTION_DAYS=2555
ANONYMIZATION_ENABLED=true
CONSENT_TRACKING=true

# Business Configuration
BUSINESS_HOURS_START=06:00
BUSINESS_HOURS_END=22:00
EMERGENCY_HOURS_24_7=true
DEFAULT_DELIVERY_RADIUS=50
MAX_ORDER_VALUE=1000000
MIN_ORDER_VALUE=500

# Notification Configuration
PUSH_NOTIFICATION_ENABLED=true
EMAIL_NOTIFICATION_ENABLED=true
SMS_NOTIFICATION_ENABLED=true
WEBHOOK_NOTIFICATION_ENABLED=true

# Analytics Configuration
ANALYTICS_ENABLED=true
ANALYTICS_RETENTION_DAYS=365
ANALYTICS_SAMPLING_RATE=1.0

# Compliance and Legal
TERMS_VERSION=1.0
PRIVACY_POLICY_VERSION=1.0
COOKIE_POLICY_VERSION=1.0
GDPR_COMPLIANCE=true
CCPA_COMPLIANCE=true

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System is under maintenance. Please try again later."
MAINTENANCE_ALLOWED_IPS=127.0.0.1

# Error Tracking
ERROR_TRACKING_ENABLED=true
ERROR_SAMPLING_RATE=1.0
ERROR_NOTIFICATION_WEBHOOK=https://your-webhook-url.com/errors

# Performance Monitoring
APM_ENABLED=true
APM_SAMPLE_RATE=0.1
APM_SERVICE_NAME=gasconnect-api

# Security Scanning
SECURITY_SCAN_ENABLED=true
VULNERABILITY_SCAN_SCHEDULE=0 3 * * 0
DEPENDENCY_SCAN_ENABLED=true

# Disaster Recovery
DR_ENABLED=true
DR_BACKUP_FREQUENCY=daily
DR_RECOVERY_POINT_OBJECTIVE=1h
DR_RECOVERY_TIME_OBJECTIVE=4h
